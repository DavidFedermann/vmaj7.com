!function(e){e.GsapCarousel=function(t,s){var n=this;n.$el=e(t),n.el=t,n.$el.data("GsapCarousel",n),n.init=function(){n.options=e.extend({},e.GsapCarousel.defaultOptions,s);var t=0;if(n.id=n.$el.attr("id"),n.items=n.$el.find(".item"),n.i_active=0,n.i_previously_active=0,n.looped=null,n.options.w||(n.options.w=n.$el.parent().width()),n.options.h||(n.options.h=n.$el.parent().height()),n.$el.css("opacity",0).css("visibility","visible"),TweenLite.to(n.$el,3,{opacity:1,ease:Expo.easeOut}),n.i_next=1,n.tweens=[],n.interval=0,n.i_width=n.options.w,n.i_height=n.options.h,n.cycling_on_hold=!1,n.$el.css({width:n.i_width,height:n.i_height}),n.$el.find(".carousel-inner").css("height","100%"),n.$el.find(".carousel-inner > .item").css({position:"absolute",display:"block",transition:"none","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none"}),n.items.length>1)for(n.i_last=n.items.size()-1,n.i_prev=n.i_last,n.items_positions=[],t=0;t<n.items.length;t++)e(n.items[t]).css({width:n.i_width,height:n.i_height,top:0,"z-index":t,left:n.i_width*t}),n.items_positions[t]=n.i_width*t;n.indicators=[];var i=e(".carousel-indicators > [data-slide-to][data-target]");if(i.length>1)for(t=0;t<i.length;t++){var o=e(i[t]);o.attr("data-target")=="#"+n.id&&(n.indicators.push(i[t]),e(i[t]).css("cursor","pointer"))}var a=n.$el.find(".carousel-control[data-slide]");if(a.length){for(t=0;t<a.length;t++){var l=e(a[t]);l.css("z-index",n.items_positions.length+3),l.data("carousel",n),l.click(function(t){var i=e(this),s=i.data("carousel");s&&("next"==i.attr("data-slide")?s.next():"prev"==i.attr("data-slide")&&s.prev(),s.stop_cycle()),t.preventDefault(),t.stopPropagation()})}n.btns=a}if(n.indicators.length){for(t=0;t<n.indicators.length;t++){var o=e(n.indicators[t]);o.parent().css("z-index",n.items_positions.length+4),o.data("carousel",n),o.click(function(t){var i=e(this),s=i.data("carousel");s&&i.attr("data-slide-to")&&(s.slide_to(i.attr("data-slide-to")),s.stop_cycle()),t.preventDefault(),t.stopPropagation()})}n.options.pause_on_hover&&e(n.indicators).bind("mouseenter",n.stop_cycle).bind("mouseleave",n.start_cycle)}n.options.cycle_autostart&&n.start_cycle(n),n.options.pause_on_hover&&n.$el.bind("mouseenter",n.mouseenter_handler).bind("mouseleave",n.mouseleave_handler)},n.clear_all_anims=function(){if(n.tweens.length)for(i=0;i<n.tweens.length;i++)n.tweens[i].kill();n.tweens=[]},n.update_controls_state=function(){var t=0;for(t=0;t<n.items.length;t++)t==n.i_active?e(n.items[t]).addClass("active"):e(n.items[t]).removeClass("active");if(n.indicators.length)for(t=0;t<n.indicators.length;t++)t==n.i_active?e(n.indicators[t]).addClass("active"):e(n.indicators[t]).removeClass("active")},n.tween_complete=function(e){e==n.i_last&&(n.clear_all_anims(),n.start_cycle())},n.slide_to=function(t){if(t=parseInt(t),t!=n.i_active){n.clear_all_anims();var i=0,s=0,o=-n.i_width,a=n.i_width,l=n.get_next_active(),c=t-n.i_previously_active,r=c>0?"from_right":"from_left";for(n.looped&&(r=n.looped,n.looped=null),i=0;i<n.items.length;i++){var _=i-t,d=(n.items[i],n.items_positions[i]),p=0,u=!1;-1>_&&(_+=n.items.length),i==t?(p=0,"from_left"==r?e(n.items[i]).css("left",o+"px"):e(n.items[i]).css("left",a+"px"),e(n.items[i]).css("z-index",n.items.length+2)):i==n.i_previously_active?(p=n.i_previously_active==l?"from_right"==r?a:o:"from_right"==r?o:a,e(n.items[i]).css("z-index",n.items.length+1)):i==l?("from_left"==r&&s>d?e(n.items[i]).css("left",a+"px"):"from_right"==r&&d>a&&e(n.items[i]).css("left",o+"px"),p=a,e(n.items[i]).css("z-index",i)):("from_left"==r&&s>d?e(n.items[i]).css("left",a+"px"):"from_right"==r&&d>a&&e(n.items[i]).css("left",o+"px"),u=!0,e(n.items[i]).css("z-index",i)),u||n.tweens.push(TweenLite.to(e(n.items[i]),n.options.tween_speed,{left:p,ease:n.options.ease,onComplete:n.tween_complete,onCompleteParams:[i]})),n.items_positions[i]=p}n.i_previously_active=t,n.i_active=t,n.update_controls_state(),n.options.custom_slide_callback&&e.isFunction(n.options.custom_slide_callback)&&n.options.custom_slide_callback(n)}},n.get_next_active=function(){var e=n.i_active+1;return e>=n.items.length&&(e=0),e},n.get_prev_active=function(){var e=n.i_active-1;return 0>e&&(e=e=n.items.length-1),e},n.next=function(){n.i_active+1>=n.items.length&&(n.looped="from_right"),n.slide_to(n.get_next_active())},n.prev=function(){n.i_active-1<0&&(n.looped="from_left"),n.slide_to(n.get_prev_active())},n.mouseenter_handler=function(){n.cycling_on_hold=!0,n.stop_cycle()},n.mouseleave_handler=function(){n.cycling_on_hold=!1,n.start_cycle()},n.start_cycle=function(){n.interval||n.cycling_on_hold||(n.interval=setInterval(function(e){return function(){e.next&&e.next()}}(n),n.options.cycle_speed))},n.stop_cycle=function(){n.interval&&(clearInterval(n.interval),n.interval=null)},n.init(),n.slide_to(0)},e.GsapCarousel.defaultOptions={ease:Expo.easeInOut,pause_on_hover:!0,tween_speed:.8,cycle_speed:5e3,cycle_autostart:!0},e.fn.gsapCarousel=function(t){return this.each(function(){new e.GsapCarousel(this,t)})},e.fn.getGsapCarousel=function(){this.data("GsapCarousel")}}(jQuery);